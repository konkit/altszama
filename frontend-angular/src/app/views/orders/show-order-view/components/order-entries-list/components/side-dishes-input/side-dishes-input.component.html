<div>
  <div>
    <div *ngIf="chosenSideDishes.value.length > 0">
      <div *ngFor="let sideDishForm of chosenSideDishes.controls; let sdIndex = index;">
        <div>
          <div>
            <div>
              <mat-form-field class="w-full">
                <mat-label>Name</mat-label>
                <input matInput [formControl]="sideDishForm.controls.sideDish" [matAutocomplete]="auto" />

                <mat-autocomplete #auto="matAutocomplete" (optionSelected)='onSideDishSelected($event.option.value, sdIndex)' [displayWith]="displayFn">
                  <mat-option *ngFor="let sideDish of availableSideDishes" [value]="sideDish">
                    <div>{{sideDish.name}}</div>
                    <div class="subtitle">
                      Price: {{sideDish.price | price}}
                    </div>
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>

              <mat-form-field>
                <mat-label>Price</mat-label>
                <app-money-input [formControl]="sideDishForm.controls.price"></app-money-input>
              </mat-form-field>

              <button mat-icon-button (click)="removeSideDish(sdIndex)">
                <mat-icon fontIcon="delete"></mat-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div>
      <app-button (click)="addSideDishEntry()">
        Add side dish
      </app-button>
    </div>
  </div>
</div>
