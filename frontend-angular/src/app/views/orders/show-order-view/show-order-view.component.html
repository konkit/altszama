<ng-container *ngIf="showOrderViewState$ | async as viewState">

  <app-view-wrapper
    [title]="'[' + viewState.order.orderState + '] Order from ' + viewState.order.restaurantName + ' (' + viewState.order.orderDate + ')'">

    <app-order-locked-warning-banner *ngIf="viewState.flags.shouldShowOrderLockedWarning"
                                     [orderId]="viewState.order.id">
    </app-order-locked-warning-banner>

    <app-order-owner-buttons *ngIf="viewState.flags.isOrderOwner"
                             [orderId]="viewState.order.id"
                             [canShowMarkAsDeliveredButton]="viewState.flags.canShowMarkAsDeliveredButton"
                             [isPlaceOrderButtonDisabled]="viewState.flags.isPlaceOrderButtonDisabled"
                             [canShowPlaceOrderButton]="viewState.flags.canShowPlaceOrderButton"
    >
    </app-order-owner-buttons>


    <app-order-details [order]="viewState.order" [viewState]="viewState">
    </app-order-details>

    <app-order-entries-list [currentUserId]="viewState.currentUserId"
                            [username]="viewState.username"
                            [allDishesInRestaurant]="viewState.allDishesInRestaurant"
                            [order]="viewState.order"
                            [yourOrderEntries]="viewState.yourOrderEntries">
    </app-order-entries-list>

  </app-view-wrapper>
</ng-container>
