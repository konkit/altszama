<!--<app-view-wrapper-->
<!--  [title]="'[' + orderResponse.order.orderState + '] Order from ' + orderResponse.order.restaurantName + '(' + orderResponse.order.orderDate + ')'">-->
<ng-container *ngIf="response$ | async as response">
  <ng-container *ngIf="priceSummaryInput$ | async as priceSummaryInput">
    <app-view-wrapper title="Call the place and make an order!">

      <ng-container *ngIf="response.orderState === 'ORDERING'">
        <mat-card class="my-5">
          <mat-card-header>
            <mat-card-title>The order is locked!</mat-card-title>
          </mat-card-header>

          <mat-card-content>Order is now locked, so no one should order anything else now.</mat-card-content>

          <mat-card-actions>
            <button mat-button color="primary" (click)="unlockOrder()">
              Unlock <mat-icon fontIcon="lock_open"></mat-icon>
            </button>
          </mat-card-actions>
        </mat-card>


        <div>
          <div>
            <div cols="8">
              <h1>Call the place!</h1>

              <div>
                <p>
                  Now please call the restaurant, make an order and then
                  enter approximate delivery time and click "Order placed"
                </p>
              </div>

              <div>
                <div *ngIf="response.restaurantTelephone.length > 0; else notelephone" class="align-center">
                  <b>tel. {{ response.restaurantTelephone }}</b>
                </div>

                <ng-template #notelephone>
                  <div class="align-center">
                    <b>Telephone number not specified, sorry :/</b>
                  </div>
                </ng-template>
              </div>

              <div class="justify-space-around">
                <div class="align-center align-self-center">
                  <div class=" delivery-time-wrapper">
                    <!--                  <TimePicker-->
                    <!--                    :value="approxTimeOfDelivery"-->
                    <!--                    @input="updateApproxTimeOfDelivery($event)"-->
                    <!--                    label="Approximate time of delivery"-->
                    <!--                  ></TimePicker>-->
                  </div>
                </div>

                <div class="align-center align-self-center">
                  <app-button color="primary" (click)="submitForm()" icon="arrow_right">
                    Order placed!
                  </app-button>
                </div>
              </div>
            </div>

            <div cols="4">
              <h1>Cost summary</h1>

              <app-price-summary [priceSummaryInput]="priceSummaryInput">
              </app-price-summary>
            </div>
          </div>
        </div>

        <div>
          <div>
            <div cols="xs12">
              <h1>Dishes:</h1>

              <app-user-orders [groupedEntries]="response.groupedEntries"></app-user-orders>
            </div>
          </div>
        </div>
      </ng-container>

      <ng-container *ngIf="response.orderState !== 'ORDERING'">
        <div>
          <div>
            <div cols="xs12">
              <div>
                <div>
                  <h1>Ordering from {{ response.restaurantName }}</h1>
                  <h4>Sorry, the order is empty</h4>
                  <p>
                    <button mat-icon-button (click)="goBack()" class="hidden-xs-only">
                      <mat-icon fontIcon="arrow_back"></mat-icon>
                    </button>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-container>

    </app-view-wrapper>
  </ng-container>
</ng-container>






