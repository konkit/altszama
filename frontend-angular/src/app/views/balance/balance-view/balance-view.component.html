<!--<ng-container *ngIf="orderResponse$ | async as orderResponse">-->
<app-view-wrapper title="Your Balance">
  <div *ngIf="isLoading == false; else spinner">
    <div>
      <div>
        <div *ngIf="owedMoneyEntries.length === 0">
          <p>No pending entries - all settled up.</p>
        </div>

        <div *ngIf="owedMoneyEntries.length > 0">
          <mat-list>
            <mat-list-item *ngFor="let owedUsernameAndAmount of owedMoneyEntries">
              <div *ngIf="owedUsernameAndAmount[1] > 0">
                <p>You are owed <b>
                  {{owedUsernameAndAmount[1] | price}}
                </b> by <b>{{owedUsernameAndAmount[0]}}</b></p>
              </div>

              <div *ngIf="owedUsernameAndAmount[1] < 0">
                <p>You owe <b>
                  {{-owedUsernameAndAmount[1] | price}}
                </b> to <b>{{owedUsernameAndAmount[0]}}</b></p>
              </div>
            </mat-list-item>
          </mat-list>
        </div>

        <h1 class="mb-4">Your order history:</h1>

        <div *ngIf="orderHistoryEntries.length > 0">
          <mat-list>
            <mat-list-item matListItemLine *ngFor="let historyEntry of orderHistoryEntries">
              <div>
                <app-balance-entry [historyEntry]="historyEntry"></app-balance-entry>
              </div>
            </mat-list-item>
          </mat-list>
        </div>

        <div *ngIf="orderHistoryEntries.length === 0">
          <p>Your order history is empty.</p>
        </div>
      </div>
    </div>
  </div>

  <ng-template #spinner>
    <mat-spinner></mat-spinner>
  </ng-template>
</app-view-wrapper>
